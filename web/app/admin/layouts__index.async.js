"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[717],{52756:function(je,R,e){e.r(R);var z=e(97857),g=e.n(z),$=e(15009),O=e.n($),G=e(19632),H=e.n(G),N=e(99289),A=e.n(N),F=e(5574),v=e.n(F),d=e(67294),i=e(80854),J=e(94740),Q=e(3321),V=e(85418),X=e(33852),ye=e.n(X),Y=e(82925),q=e(53032),w=e(94785),f=e(22934),ee=e(66949),c=e(43083),K=e(91373),_e=e(87547),a=e(85893),ne=function(ae){var j,te=(0,i.useModel)("pageLoading"),ue=te.pageLoading,oe=(0,d.useState)({}),I=v()(oe,2),_=I[0],se=I[1],le=(0,d.useState)({}),T=v()(le,2),U=T[0],y=T[1],re=(0,i.useModel)("pageLoading"),P=re.setPageLoading,de=(0,i.useModel)("@@initialState"),L=de.initialState,t=L==null?void 0:L.accountInfo,D=(0,i.useLocation)(),m=w.Z.parse(D.search),ie=(0,d.useState)(""),b=v()(ie,2),me=b[0],S=b[1],Ee=(0,d.useState)([]),B=v()(Ee,2),h=B[0],W=B[1],ve=(0,d.useState)([""]),k=v()(ve,2),pe=k[0],Z=k[1],Me=(0,d.useState)(!1),x=v()(Me,2),ce=x[0],Oe=x[1],fe=function(){var u=A()(O()().mark(function n(){var o,E,l,C,s,M;return O()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.request)("./config.json");case 2:if(o=r.sent,E=o.api.layout,E){r.next=7;break}return y("The layout API cannot be null!"),r.abrupt("return");case 7:return P(!0),r.next=10,(0,K.U)({url:E});case 10:l=r.sent,se(l),l.menu&&(C=(0,c.hA)(l.menu,D.pathname,decodeURIComponent(p)),s=(0,c.Kg)(l.menu,C),h.push.apply(h,H()(s)),W(h),Z([C])),M=(0,c.Ah)(l.menu,D.pathname,decodeURIComponent(p)),S(M),P(!1);case 16:case"end":return r.stop()}},n)}));return function(){return u.apply(this,arguments)}}(),Pe=function(){var u=A()(O()().mark(function n(){var o,E,l;return O()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o=(0,c.Ah)(_.menu,D.pathname,decodeURIComponent(p)),S(o),p){s.next=5;break}return y(null),s.abrupt("return");case 5:return E={},Object.keys(m).forEach(function(M){M!=="api"&&(E[M]=m[M])}),P(!0),s.next=10,(0,K.U)({url:p,data:E});case 10:l=s.sent,y(l),P(!1);case 13:case"end":return s.stop()}},n)}));return function(){return u.apply(this,arguments)}}(),p="";m!=null&&m.api&&(p=m.api),(0,d.useEffect)(function(){fe()},[]),(0,d.useEffect)(function(){Pe()},[m.api]);var De=function(n){Z([n.key]);var o=(0,c.r7)(_.menu,n.key);if(o.is_link===1)return window.open(o.path,"_blank"),!1;i.history.push(o.path)},he=function(n){W(n)},Ce=_==null||(j=_.rightMenus)===null||j===void 0?void 0:j.map(function(u,n){return{key:n,label:(0,a.jsx)(f.Z,{body:u})}});return(0,a.jsx)(J.ZP,{locale:Y.Z,children:(0,a.jsxs)(Q.Z,{children:[(0,a.jsxs)(i.Helmet,{children:[(0,a.jsx)("meta",{charSet:"utf-8"}),(0,a.jsx)("title",{children:me})]}),(_==null?void 0:_.title)&&(0,a.jsx)(q.f,g()(g()({},_),{},{loading:ue,logo:_.logo?_.logo:ee,iconfontUrl:_.iconfontUrl,openKeys:h,selectedKeys:pe,menuProps:{onOpenChange:he,onClick:De},onCollapse:function(n){Oe(n)},menuDataRender:function(){return _.menu},actionsRender:function(){return[(0,a.jsx)(f.Z,{body:_.actions},"action")]},avatarProps:{src:t!=null&&t.avatar?t==null?void 0:t.avatar:(0,a.jsx)(_e.Z,{}),size:"small",title:ae.layout==="side"?ce||t==null?void 0:t.nickname:t==null?void 0:t.nickname,render:function(n,o){return(0,a.jsx)(V.Z,{menu:{items:Ce},children:o})}},footerRender:function(){return(0,a.jsx)(f.Z,{body:_.footer})},children:U?(0,a.jsx)(f.Z,{body:U}):(0,a.jsx)(i.Outlet,{})}))]})})};R.default=ne}}]);
